---
title: "trabalho_final_web-scraping"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{trabalho_final_web-scraping}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
#library(infoaguas)
```

```{r}
infoaguas::login_infoaguas(login = Sys.getenv("CETESB_LOGIN"), 
                 password =  Sys.getenv("CETESB_PWD"))

```
```{r}
get_results(sampling_point = 106, start = "01/01/2016", end = "27-11-2020", path = "inst/download/")
```



Temas de aula para aplicar/Roadmap:

- Aula 1 à 3:
  - [X] O site tem API?
  - [X] Autenticaçã na API
  - [X] XPath
  - [X] Senha guardada no .Renviron


- Aula 4: 
  - [ ] Tratamento de erros - possibly/safely
  - [ ] Programação funcional - purrr (ou furrr)
  - [ ] Paralelização - pacote furrr
  - [ ] Barras de progresso - pacote progressr
  - [ ] Tempo que demora para funcionar - pacote tictoc 


- Aula 6:


Anotações para mim mesma:

- Não usar rvest, no máximo a função `html_table()`.

- Não usar CssPath

- Não usar selenium


Referências

https://www.curso-r.com/blog/2018-03-19-scraper-cetesb/
